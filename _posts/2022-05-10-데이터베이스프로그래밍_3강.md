# 3. procedure, function, order by, group by



sql문장을 튜닝하여 고부가가치의 잘 만든 코드를 만들자!



DB작업을 할 때 이클립스처럼 클래스를 나누지 말고,

코드를 다 모아놓은 다음에 드래그 번개하여 해당 라인만 실행하게 만든다.





### 1)order by





### 2)as



### 3)group by

마치 투표 개표 정산 과정처럼.

group by + count

*투표 테이블은 Primary key가 없다. 모두 중복값으로 들어가기 때문.







### 4)procedure

##### : DB공간에 저장해 놓고 사용하는 함수

변수명은 앞에 _를 붙여(\_id) 컬럼명이랑 헷갈리지 않게 관습적으로.





DELIMITER $$(시작)

DELIMITER; (끝)





return값을 안에서 정한다.(OUT)











### 5)function

function은 딱 하나만 리턴한다.











### 6)마구마구 실습

등수를 구할 때에는 

메모리상에 exam을 두개 복제하여 exam.b 와 exam.a를 만들어두고,

exam.a의 내 row를 exam.b의 모든 row들과 비교하여,

내 row 값보다 큰 exam.b의 row들을 카운트한다.

카운트 +1이 즉 내 등수. => 4강에서 배울 JOIN