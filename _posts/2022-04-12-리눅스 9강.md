

# 9. í´ë¼ìš°ë“œ ì‹œìŠ¤í…œ



## 1.VMë³µì œ

### 1)VMë³µì œí•˜ê¸°

ê¸°ë³¸ì ìœ¼ë¡œ ë²„ì¶”ì–¼ ë°•ìŠ¤ì—ì„œ ê°€ìƒë¨¸ì‹ ì„ í•œê°œ ë§Œë“¤ ë–„ë§ˆë‹¤ nat networkí•˜ë‚˜ ë§Œë“¤ì–´ì„œ ê°€ìƒë¨¸ì‹  í•˜ë‚˜ ë„£ê³ , ê·¸ëŸ°ë°©ì‹. ê·¸ë˜ì„œ ì–˜ë„¤ê°€ ì„œë¡œ ë³´ì§€ ëª»í•¨.

ê·¸ë˜ì„œ ë²„ì¶”ì–¼ ë°•ìŠ¤ì—ì„œ NAT NETWORKë¥¼ customí•˜ê²Œ ë§Œë“¤ê³  ê·¸ ì•ˆì— ê°€ìƒ ë¨¸ì‹ ì„ ì—¬ëŸ¬ê°œ ë„£ê³  ì„œë¡œ ë³¼ ìˆ˜ ìˆê²Œ ë§Œë“ ë‹¤.

![image-20220412092633360](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412092633360.png)



![image-20220412092648595](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412092648595.png)

![image-20220412092744620](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412092744620.png)

ê°™ì€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë§¥ì–´ë“œë ˆìŠ¤ê°€ ê°™ìœ¼ë©´ ipì¶©ëŒ ì˜¤ë¥˜ê°€ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—

![image-20220412092805694](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412092805694.png)









ë²„ì¶”ì–¼ë°•ìŠ¤ì˜ íŒŒì¼ - í™˜ê²½ì„¤ì • - ë„¤íŠ¸ì›Œí¬ - ì˜¤ë¥¸ìª½ ìƒˆ NAT ë„¤íŠ¸ì›Œí¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

![image-20220412093025920](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412093025920.png)

![image-20220412093036935](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412093036935.png)

í™•ì¸!





myLinuxì˜ ì„¤ì •ì„ ë³µì œê¹Œì§€ NATë„¤íŠ¸ì›Œí¬ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.

![image-20220412093127322](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412093127322.png)

![image-20220412093201707](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412093201707.png)

ì´ë•Œ ë³µì œ ì„œë²„ë„ ipê¹Œì§€ ë˜‘ê°™ê¸° ë•Œë¬¸ì— ë°”ê¿”ì¤˜ì•¼ í•¨





![image-20220412093415093](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412093415093.png)

ë‘ ì±„ë„ì´ ë³µì œ ëê¸° ë•Œë¬¸ì— ê°™ì€ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë‘˜ ë‹¤ ì ‘ì†ì´ ê°€ëŠ¥í•œ ëª¨ìŠµ.



![image-20220412093547659](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412093547659.png)

ë³µì œëœ _1ì±„ë„ì˜ ipë¥¼ ë°”ê¾¸ê¸° ìœ„í•´ í•´ë‹¹ yaml íŒŒì¼ì— vimí¸ì§‘ê¸°ë¡œ ì ‘ì†ì„ í•˜ëŠ” ëª…ë ¹ì–´



![image-20220412094819715](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412094819715.png)

ì´ë•Œ ê¸°ì¡´ inet(ip)ëŠ” 10.0.2.4 ì˜€ìœ¼ë‹ˆ ë³µì œ ipëŠ” 10.0.2.5ë¡œ ë°”ê¿”ì£¼ëŠ” ëª¨ìŠµ





![image-20220412094917631](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412094917631.png)

ì €ì¥í•œ _1ì˜ yamlíŒŒì¼ì„ netplan applyë¡œ ì ìš©ì‹œì¼œì¤€ë‹¤.

/24ëŠ” ë„·ë§ˆìŠ¤í¬ê°€ 255.255.255.0ì´ ê²°êµ­ 8.8.8.0 ì´ë‹ˆê¹Œ /24 í•´ì¤€ ê²ƒ.



![image-20220412095235050](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412095235050.png)

ifconfigí•˜ì—¬ inetì´ ì„œë¡œ 2.4 2.5ì¸ê²ƒì„ í™•ì¸!!



![image-20220412095442997](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412095442997.png)

ì´ì œ ì„œë¡œì˜ ipì— pingì„ ì°ì–´ë³´ë‚´ ì—°ê²°ì´ ì˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤





![image-20220412095904001](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412095904001.png)

ip route ëª…ë ¹ì–´ë¡œ ì„œë¡œ ê°™ì€ ê²Œì´íŠ¸ì›¨ì´ (via 10.0.2.1)ì¸ ê²ƒë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 



#### ë³µì œ ê°œë… ì„¤ëª…

![KakaoTalk_20220412_100230996](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/KakaoTalk_20220412_100230996.jpg)





### 2)í˜¸ìŠ¤íŠ¸ë„¤ì„, ë„¤íŠ¸ì›Œí¬ ì„¤ì •

![image-20220412100922797](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412100922797.png)

í˜¸ìŠ¤íŠ¸ë„¤ì„ì´ ë„ë©”ì¸ ë„¤ì„ê³¼ ë¹„ìŠ·í•œ ê°œë…ì´ê¸° ë•Œë¬¸ì— ì´ê²ƒë„ ë°”ê¿”ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.

![image-20220412101040427](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412101040427.png)

_1ì±„ë„ì˜ í˜¸ìŠ¤íŠ¸ ë„¤ì„ì„ ë°”ê¿¨ê³ , @ë’¤ì˜ ì´ë¦„ì€ ì¬ë¶€íŒ… í•´ì£¼ë©´ ë°”ë€ë‹¤!





**ë‘ ì„œë²„ì˜ í¬íŠ¸í¬ì›Œë”©**

ë²„ì¶”ì–¼ë°•ìŠ¤ì˜ í™˜ê²½ì„¤ì •ì—ì„œ

![image-20220412101420982](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412101420982.png)

![image-20220412101534052](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412101534052.png)

![image-20220412101806751](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412101806751.png)





í”„í‹°ë¥¼ ì„¤ì •í•´ì¤€ë‹¤.

ì›ë³¸ ì±„ë„ ğŸ‘‰ MyLinux_0

![image-20220412102337328](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412102337328.png)

ë³µì œí•œ ì±„ë„ ğŸ‘‰ MyLinux_1

![image-20220412102425483](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412102425483.png)





![image-20220412102625810](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412102625810.png)

accept!

ë



**+Î±** : ì•„íŒŒì¹˜ í¬íŠ¸í¬ì›Œë”© ì¶”ê°€í•˜ê¸°

![image-20220412103237950](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412103237950.png)

ë°”ê¹¥ì—ì„œ 8001ë¡œ ë“¤ì–´ì˜¤ë©´ 10.0.2.4 ì˜ 80ë²ˆ í¬íŠ¸ë¡œ ë“¤ì–´ì˜¤ê³ ,

ë°”ê¹¥ì—ì„œ 8002ë¡œ ë“¤ì–´ì˜¤ë©´  10.0.2.5 ì˜ 80ë²ˆ í¬íŠ¸ë¡œ ë“¤ì–´ì˜¨ë‹¤ëŠ” ëœ».



ì¸í„°ë„· ë¸Œë¼ìš°ì €ì—ì„œ ë°©ê¸ˆ ì„¤ì •í•œ í¬íŠ¸í¬ì›Œë”©ìœ¼ë¡œ ì ‘ì†í•˜ê¸°

![image-20220412103542534](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412103542534.png)

ë‚´ ì•„ì´í”¼ : í¬íŠ¸ë²ˆí˜¸ 



![image-20220412103737334](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412103737334.png)

ì–´ì œ ë§Œë“¤ì—ˆë˜ a.html íŒŒì¼ì´ ë³´ì¸ë‹¤.





## 3)ê³ ì •IP ì„¤ì • 





### 4)ë¸Œë¦¿ì§€ ì„¤ì •









## 2. GCP/AWS

### ğŸ€AWS

### 1)ê°€ì… 

### 2)ì„¤ì •

ì»´í“¨íŒ…ì˜ EC2

ì„œìš¸ ì„œë²„ë¡œ ì„¤ì •,

ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘.

ubuntu ê²€ìƒ‰, ë‚´ ë²„ì „ê³¼ ë§ëŠ” ê²ƒ ì„ íƒ

ê²€í†  ë° ì‹œì‘

ìƒˆ í‚¤í˜ì–´ ìƒì„±

í‚¤í˜ì–´ ì´ë¦„  "5floor"

í‚¤í˜ì–´ ë‹¤ìš´. ì‹œì‘,

ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœê°€ ëŒ€ê¸°ì—ì„œ ì‹¤í–‰ì„ ë°”ë€”ê²ƒì´ë‹¤.

ì—°ê²° í´ë¦­, ì—°ê²°.

==> ì•„ë§ˆì¡´ ì„œë²„ì—ë‹¤ê°€ ê°€ìƒë¨¸ì‹ ì„ í•˜ë‚˜ ë§Œë“  ê²ƒ.



#### ëª©í‘œ 1. ê°€ìƒë¨¸ì‹ ì—ì„œ sshë¡œ ì ‘ì†.

í”„í‹°ì—ì„œ

permission ì—ëŸ¬ ëœ¨ë©´,

chmod 600 id_rsa ëª…ë ¹ì–´ë¡œ ê¶Œí•œì„ ì¢í˜€ì£¼ê³  ë‹¤ì‹œ ì§„í–‰.

(ê°œì¸ì˜ í‚¤ë‹ˆê¹Œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë³´ë©´ ì•ˆë˜ë‹ˆ)



#### ëª©í‘œ 2. puttyì—ì„œ ë°”ë¡œ ì ‘ì†.

ë‚´ pcì˜ puTTygen ì‹¤í–‰

load 

pemíŒŒì¼ ì„ íƒ.

save private key í´ë¦­. yes, ì €ì¥

conversions

open export ssh key 

íŒŒì¼ëª…id_rsaìœ¼ë¡œ, ì €ì¥



ì¤€ë¹„ë¬¼

**id_rsa**

**aws.ppk**

**5floor.pem**



puttyì—´ê³ ,

authì˜ browse, ppkë„£ê¸°

sessionì—ì„œ ì•„ë§ˆì¡´ ì¸ìŠ¤í„´ìŠ¤ì˜ í¼ë¸”ë¦­ ipv4 ë³µì‚¬ HostNameì— ë¶™ì—¬ë„£ê¸°.

awsëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ì ëª…ì´ ubuntuì´ë‹¤.



**ğŸ‘‰ ì´ê²Œ ë¹„ëŒ€ì¹­ ì¸ì¦ë²•ì„ í•˜ëŠ” ê²ƒì„**

ì¸ì¦ì„œë¥¼ ê°€ì§€ê³  ë¡œê·¸ì¸ì„ í•˜ëŠ” ê²ƒ.(ì§€ê¸ˆê¹Œì§€ëŠ” ìš°ë¶„íˆ¬ì—ì„œ id pwdë¡œ ë“¤ì–´ê°”ì§€ë§Œ,)

awsí†µí•´ ë°›ì€ pemíŒŒì¼ì—” public keyì™€ private keyê°€ ìˆë‹¤.

public keyëŠ” ì ‘ì†ì„ í•˜ëŠ” ê³³ì—ì„œ ë°›ëŠ” ê²ƒ.

ì–´ë””ì— ìˆì–´ë„ ìƒê´€ì—†ìŒ

 private keyëŠ” ì ‘ì†ì„ í•˜ëŠ” ì‚¬ëŒì´ ë‚´ëŠ” ê²ƒ

ë‚´ê°€ ëª°ë˜ ê°€ì§€ê³  ìˆëŠ” ê²ƒ

aws.ppk -> private key



aws.ppkë¥¼ puttyì— ë„£ì–´ì„œ public keyì— ì ‘ì†ì„ í•˜ëŠ” ê²ƒì´ë‹¤



 public keyëŠ” ì•„ë§ˆì¡´ì—ì„œ ì´ë¯¸ ë“±ë¡ì„ í•´ë†“ì•˜ë‹¤.

í•´ë‹¹ ë¸Œë¼ìš°ì €ì˜ ì±„ë„ì—ì„œ .ssh/ authorized_keysì— ì €ì¥ì¤‘



ì¸ì¦ì„œ ë°©ì‹ì´ ì—¬ëŸ¬ ì¢…ë¥˜ê°€ ìˆë‹¤.

putty ì—ì„œ ì“°ëŠ” ppkíŒŒì¼ í˜•ì‹(aws.ppk)ì„ ë°›ê³ ,

open ssh í˜•ì‹ì—ì„œ ì“°ëŠ” ppkíŒŒì¼ í˜•ì‹(id_rsa)ì„ ë°›ì€ ê²ƒ.



#### ëª©í‘œ 3. apache2 ì„¤ì¹˜ í›„ ì›¹ì—ì„œ ì ‘ì†.

**í”„í‹°ì˜ ubuntu(aws)ì—ì„œ**

ìš°ì„  apt update

sudo apt install apache2 ëª…ë ¹ì–´ë¡œ ì•„íŒŒì¹˜2ë¥¼ ì„¤ì¹˜í•œë‹¤.

**aws ì„¤ì • í˜ì´ì§€ì—ì„œ**

ë„¤íŠ¸ì›Œí‚¹ - ë³´ì•ˆ ê·¸ë£¹ - ì¸ë°”ìš´ë“œ ê·œì¹™ í¸ì§‘ - ê·œì¹™ ì¶”ê°€ - HTTPì„¤ì •, ì‚¬ìš©ì 0.0.0.0/0 ìœ¼ë¡œ(ëª¨ë“  ì†ŒìŠ¤ì—ì„œ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ëœ») ì„¤ì • - ê·œì¹™ ì €ì¥

-> ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì† ê°€ëŠ¥

![image-20220412131058456](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412131058456.png)



inbound : ë“¤ì–´ì˜¤ëŠ” ê²ƒ

outbound : ë‚˜ê°€ëŠ” ê²ƒ

### 3)ftpí´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©í•˜ê¸°



### ğŸ€GCP

gcpë„ private keyë¡œ public keyì— ë“¤ì–´ê°€ëŠ” ê²ƒ. awsì™€ ë³„ ë‹¤ë¥¼ ê²ƒì´ ì—†ë‹¤.

êµ¬ê¸€ ê°™ì€ ê²½ìš°ëŠ” awsì™€ëŠ” ë‹¤ë¥´ê²Œ ì¸ì¦ì„œë¥¼ ë§Œë“  ë‹¤ìŒì— ë“±ë¡ì„ í•´ì¤˜ì•¼í•œë‹¤.

### 1)GCP ê°€ì…

2) ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê¸° ë° ì„¤ì •

![image-20220412132932431](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412132932431.png)

 - ì‚¬ìš© - ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê¸°

![image-20220412133156066](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412133156066.png)



![image-20220412133205745](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412133205745.png)



![image-20220412133349144](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412133349144.png)

sshë¥¼ í´ë¦­í•´ ì—°ê²°í•œë‹¤.

![image-20220412133413839](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412133413839.png)



**í‚¤ ë°›ê¸°**

![image-20220412133621397](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412133621397.png)

ssh-keygen -t rsa -C {username}

ê·¸ë¦¬ê³  ì—”í„° ì„¸ë²ˆ

![image-20220412133711355](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412133711355.png)

í‚¤ë¥¼ ë°›ì•˜ë‹¤!



![image-20220412135236465](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412135236465.png)

.sshë””ë ‰í† ë¦¬ê°€ ìƒê²¼ê³  id_rsaê°€ ìƒê²¼ë‹¤.

![image-20220412135715204](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412135715204.png)

catìœ¼ë¡œ ì—´ì–´ í‚¤ë¥¼ ë³µì‚¬í•˜ì.



public keyë¥¼ êµ¬ê¸€ì—ì„  ì›¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë“±ë¡í•˜ê¸°ë¥¼ ê¶Œì¥í•œë‹¤.

ê·¸ë˜ì„œ GCP ì„¤ì •ì—ì„œ ë©”íƒ€ë°ì´í„° - ssh ì— ë“±ë¡ì„ í•œë‹¤.![image-20220412133826098](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412133826098.png)

ê·¸ë¦¬ê³  ì €ì¥!!

![image-20220412135849829](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412135849829.png)

ì €ì¥ì´ ì™„ë£Œëœ ëª¨ìŠµ







![image-20220412134137270](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412134137270.png)



![image-20220412134050126](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412134050126.png)

![image-20220412135936919](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412135936919.png)

rsaë¥¼ ë°›ê³ ,

í”„í‹° ì  ì—ì„œ ë¡œë“œë¥¼ í•¨ë‹ˆë‹¤.

![image-20220412140217060](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140217060.png)



![image-20220412140231799](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140231799.png)



ê·¸ë¦¬ê³  save private key



![image-20220412140249214](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140249214.png)

yas

![image-20220412140329499](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140329499.png)

ì €ì¥

![image-20220412140351982](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140351982.png)

ì™„ë£Œëœ ëª¨ìŠµ.



ë‹¤ì‹œ êµ¬ê¸€ GCPì—ì„œ ì™¸ë¶€ ì•„ì´í”¼ ë³µì‚¬í•´ì„œ~

![image-20220412140448017](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140448017.png)

![image-20220412140550957](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140550957.png)

Hostnameì— ë¶™ì—¬ë„£ê¸°,

![image-20220412140620985](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140620985.png)



Auth - Browseì—ì„œ 

![image-20220412140645705](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140645705.png)

ì•„ê¹Œ ë°›ì€ GCP private key ì—´ê¸°.

ê·¸ë¦¬ê³  ë§Œë“  gcp01ë¡œ ì ‘ì†! ë!

![image-20220412140748787](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140748787.png)

![image-20220412140802897](../images/2022-04-12-ë¦¬ëˆ…ìŠ¤ 9ê°•/image-20220412140802897.png)







## 3.Docker



### 1)Docker



### 2)xinetd.confì„¤ì •



### 3)/etc/services íŒŒì¼







## +Î± &ì˜ˆìŠµ